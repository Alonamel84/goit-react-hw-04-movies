(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{10:function(e,t,c){e.exports={Searchbar:"MoviePage_Searchbar__2-eRF",SearchForm:"MoviePage_SearchForm__3tsI8",SearchForm_button:"MoviePage_SearchForm_button__12lrB",SearchForm_button_label:"MoviePage_SearchForm_button_label__2hXR7",SearchForm_input:"MoviePage_SearchForm_input__1UNdr",searchList:"MoviePage_searchList__2uAm9",linksearchFilm:"MoviePage_linksearchFilm__3oXVC"}},11:function(e,t,c){e.exports={buttonBack:"MovieDetailPage_buttonBack__2kizD",titleMovie:"MovieDetailPage_titleMovie__2tLap",listGenres:"MovieDetailPage_listGenres__1Gtg4",container:"MovieDetailPage_container__QetZc",genres:"MovieDetailPage_genres__1aUYw",addInfoBtn:"MovieDetailPage_addInfoBtn__3fQrr"}},17:function(e,t,c){e.exports={castList:"Cast_castList__2P4U-",actorProfile:"Cast_actorProfile__2pCCW",actorName:"Cast_actorName__1SerY"}},21:function(e,t,c){e.exports={filmList:"FilmList_filmList__XP8ZP",homePageItem:"FilmList_homePageItem__3iQIe"}},34:function(e,t,c){e.exports={homePageItem:"HomePage_homePageItem__-LtLu",title:"HomePage_title__1_cSh"}},39:function(e,t,c){},40:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(31),i=c.n(r),s=(c(39),c(4)),o=(c(40),c(2)),l=c(9),j=c(13),h=c.n(j),u="029b4bd853ef3dc8d52297bd7264794a";h.a.defaults.baseURL="https://api.themoviedb.org/";var m=function(){return h.a.get("3/trending/movie/day?api_key=".concat(u)).then((function(e){return e.data.results})).catch((function(e){throw e}))},b=c(10),d=c.n(b),O=c(0),f=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),i=Object(s.a)(r,2),j=i[0],m=i[1],b=Object(a.useState)([]),f=Object(s.a)(b,2),v=f[0],_=f[1],p=Object(o.h)();return Object(a.useEffect)((function(){""!==p.search&&m(p.search.replace(/^\?[a-z]*=/gi,""))}),[]),Object(a.useEffect)((function(){""!==j&&function(e){return h.a.get("3/search/movie?api_key=".concat(u,"&language=en-US&page=1&include_adult=false&query=").concat(e)).then((function(e){return e.data})).catch((function(e){throw e}))}(j).then((function(e){var t=e.results;return _(t)}))}),[j]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("header",{className:d.a.Searchbar,children:Object(O.jsxs)("form",{className:d.a.SearchForm,onSubmit:function(e){return function(e,t){if(e.preventDefault(),m(t),""===c)return alert("Please insert your query for search");n("")}(e,c)},children:[Object(O.jsx)("button",{type:"submit",className:d.a.SearchForm_button,children:Object(O.jsx)("span",{className:d.a.SearchForm_button_label,children:"Search"})}),Object(O.jsx)("input",{className:d.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:c,onChange:function(e){n(e.target.value)}})]})}),v.map((function(e){return Object(O.jsx)("li",{className:d.a.searchList,children:Object(O.jsx)(l.b,{to:{pathname:"/movie/".concat(e.id),state:{from:"/movies"},search:j},className:d.a.linksearchFilm,children:e.title})})}))]})},v=c(17),_=c.n(v),p=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),c=t[0],n=t[1],r=Object(o.i)().params.movieId;return Object(a.useEffect)((function(){var e;(e=r,h.a.get("3/movie/".concat(e,"/credits?api_key=").concat(u)).then((function(e){return e.data})).catch((function(e){throw e}))).then((function(e){n(e)})).catch((function(e){return console.log("errorGetMoviesDetails")}))}),[]),Object(O.jsx)(O.Fragment,{children:c&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("ul",{className:_.a.castList,children:c.cast.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsxs)("li",{className:_.a.actorProfile,children:[" ",Object(O.jsx)("p",{className:_.a.actorName,children:e.name}),Object(O.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:""}),Object(O.jsxs)("p",{children:[" Character: ",e.character]}),Object(O.jsxs)("p",{children:[" Popularity: ",e.popularity]})]},e.id)})}))})})})},x=function(){var e=Object(o.i)(),t=Object(a.useState)([]),c=Object(s.a)(t,2),n=c[0],r=c[1],i=e.params.movieId;return Object(a.useEffect)((function(){var e;(e=i,h.a.get("3/movie/".concat(e,"/reviews?api_key=").concat(u)).then((function(e){return e.data})).catch((function(e){throw e}))).then((function(e){r(e),console.log(e)})).catch((function(e){return console.log("errorGetMoviesDetails")}))}),[]),console.log(n),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Reviews"}),n.length?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("ul",{children:n.results.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsxs)("li",{children:[e.results,Object(O.jsxs)("p",{children:[" Author: ",e.author]}),Object(O.jsxs)("p",{children:["Review: ",e.content]})]},e.id)})}))})}):Object(O.jsx)("p",{children:" There are no reviews for this movie"})]})},g=c(11),S=c.n(g),N=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),c=t[0],n=t[1],r=Object(o.i)().params.movieId;Object(a.useEffect)((function(){var e;(e=r,h.a.get("3/movie/".concat(e,"?api_key=").concat(u)).then((function(e){return e.data})).catch((function(e){throw e}))).then((function(e){n(e)})).catch((function(e){return console.log("errorGetMoviesDetails")}))}),[]);var i=Object(o.h)(),j=(i.pathname,i.state),m=i.search,b=Object(o.g)();return c?Object(O.jsxs)("div",{className:S.a.container,children:[Object(O.jsx)("h1",{className:S.a.titleMovie,children:c.original_title}),Object(O.jsx)("h2",{children:"Overview"}),Object(O.jsx)("div",{children:c.overview}),Object(O.jsx)("button",{onClick:function(){return b.push("/"!==j.from.pathname?"".concat(j.from,"?query=").concat(m.substr(1)):"/")},type:"button",className:S.a.buttonBack,children:" GoBack "}),Object(O.jsx)("h3",{children:"Genres"}),Object(O.jsx)("ul",{className:S.a.genres,children:c.genres.map((function(e){return Object(O.jsx)("li",{className:S.a.listGenres,children:e.name+" "})}))}),Object(O.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(c.poster_path),alt:""}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Additional Information"}),Object(O.jsx)(l.b,{to:{pathname:"/movie/".concat(r,"/cast"),state:{from:j.from},search:m},className:S.a.addInfoBtn,children:"Casts"}),Object(O.jsx)(l.b,{to:{pathname:"/movie/".concat(r,"/reviews"),state:{from:j.from},search:m},className:S.a.addInfoBtn,children:"Reviews"})]}),Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/movie/:movieId/reviews",component:x}),Object(O.jsx)(o.b,{path:"/movie/:movieId/cast",component:p})]})]}):""},P=c(21),F=c.n(P),w=function(e){var t=e.films,c=Object(o.h)();return Object(O.jsx)("ul",{className:F.a.filmList,children:t.map((function(e){return Object(O.jsx)("li",{className:F.a.homePageItem,children:Object(O.jsx)(l.b,{to:{pathname:"/movie/".concat(e.id),state:{from:c}},children:Object(O.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.poster_path),alt:""})})},e.id)}))})},M=c(34),y=c.n(M),I=function(e){var t=e.results;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{className:y.a.title,children:"Trending today"}),Object(O.jsx)(w,{films:t})]})};var k=function(){var e=Object(a.useState)("day"),t=Object(s.a)(e,2),c=t[0],n=(t[1],Object(a.useState)([])),r=Object(s.a)(n,2),i=r[0],j=r[1],h=Object(a.useState)("movie"),u=Object(s.a)(h,2),b=(u[0],u[1],Object(a.useState)(1)),d=Object(s.a)(b,2);return d[0],d[1],Object(a.useEffect)((function(){m().then((function(e){j(e)}))}),[c]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(l.c,{to:"/",activenavlink:"NavLink--active",className:"nav",children:"Home"}),Object(O.jsx)(l.c,{to:"/movies",className:"nav",children:"Movies"}),Object(O.jsx)(o.b,{exact:!0,path:"/",children:Object(O.jsx)(I,{getTrendyMovies:m,results:i})}),Object(O.jsx)(o.b,{exact:!0,path:"/movies",children:Object(O.jsx)(f,{})}),Object(O.jsx)(o.b,{path:"/movie/:movieId",children:Object(O.jsx)(N,{})}),Object(O.jsx)(o.a,{to:"/"})]})};i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(l.a,{children:Object(O.jsx)(k,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.083aaa9a.chunk.js.map